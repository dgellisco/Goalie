var $username=$("#input-username"),$balance=$("#input-balance"),$income=$("#input-income"),$goaldescr=$("#input-goaldescr"),$goalamount=$("#input-goalamount"),$submitBtn=$("#submit"),API={getUsers:function(){return $.ajax({url:"api/users",type:"GET"})},saveUser:function(n){return console.log("\n\n Running API.saveUser function.\n"),$.ajax({headers:{"Content-Type":"application/json"},type:"POST",url:"api/users",data:JSON.stringify(n)})},getFinancials:function(){return $.ajax({url:"api/financials/"+id,type:"GET"})},saveFinancials:function(n){return console.log("\n\n Running API.saveFinancials function.\n"),$.ajax({headers:{"Content-Type":"application/json"},type:"POST",url:"../api/financials",data:JSON.stringify(n)})},deleteFinancials:function(n){return $.ajax({url:"../../api/financials"+n,type:"DELETE"})}},handleFormSubmit=function(n){n.preventDefault();var a={username:$username.val().trim(),goaldescr:$goaldescr.val().trim(),goalamount:$goalamount.val().trim()},e={balance:$balance.val().trim(),income:$income.val().trim(),userid:0};if(!a.username||!e.balance)return void alert("You must enter your username and balance!");var t;API.saveUser(a).then(function(n){t=n.id,console.log("new user ID is "+t),e.userid=t,console.log(e.userid),API.saveFinancials(e).then(function(n){console.log("Running API.saveFinancials(financials)"),console.log("new financial entry ID is "+n.id)})}),$username.val(""),$balance.val(""),$income.val(""),$goaldescr.val(""),$goalamount.val(""),alert("User Saved"),setTimeout(function(){var n="/users/"+t;window.location.href=n},1e3)};$submitBtn.on("click",handleFormSubmit);var $updatebalance;$(document).on("change","#update-balance-input",function(){$updatebalance=$("#update-balance-input").val(),console.log("value updated to "+$updatebalance)});var $submitBtnUpdate=$("#submit-update"),handleFormSubmitUpdates=function(n){console.log("running handleFormSubmitUpdates"),console.log("route is "+a),n.preventDefault();var a=$("#update-balance-input").data("id");console.log("route is "+a);var e={balance:$updatebalance,userid:a};API.saveFinancials(e).then(function(n){console.log("\n\n Running OMG OMG OMG\n"),console.log(n),setTimeout(function(){var n="/users/"+a;window.location.href=n},1e3)}),$("#update-balance-input").val("")};$submitBtnUpdate.on("click",handleFormSubmitUpdates);